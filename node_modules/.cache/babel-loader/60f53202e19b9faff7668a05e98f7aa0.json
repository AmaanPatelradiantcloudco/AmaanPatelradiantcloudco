{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Amaan\\\\Downloads\\\\React-golang-project\\\\src\\\\pages\\\\UpdateBook.js\",\n    _s = $RefreshSig$();\n\nimport home from \"../components/home\";\nimport { withRouter } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { NavItem } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UpdateBook(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const formData = new FormData();\n  console.warn(\"props\", props.match.params.id);\n  useEffect(async () => {\n    let result = await fetch(\"http://localhost:8080/books/\" + props.match.params.id);\n    result = await result.json();\n    console.log(name, description);\n    setData(result);\n    setName(result.name);\n    setDescription(result.description);\n  }, []);\n\n  async function editBook(id) {\n    formData.append('name', name);\n    formData.append('description', description);\n    console.log(formData.get('name'));\n    console.log(formData.get('description'));\n    let result = await fetch(\"http://localhost:8080/books/\" + props.match.params.id, {\n      method: \"PATCH\",\n      body: formData\n    });\n    result = await result.json();\n    alert(id);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"home\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-sm-6 offset-sm-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Update Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setName(e.target.value),\n        className: \"form-control\",\n        defaultValue: data.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 130\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setDescription(e.target.value),\n        className: \"form-control\",\n        defaultValue: data.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 144\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => editBook(data.id),\n        className: \"w-100 btn btn-lg btn-primary\",\n        children: \"Update Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UpdateBook, \"F2AmsZEXtJo+gpXhEHyqn/lM060=\");\n\n_c = UpdateBook;\nexport default _c2 = withRouter(UpdateBook);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UpdateBook\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/Amaan/Downloads/React-golang-project/src/pages/UpdateBook.js"],"names":["home","withRouter","useState","useEffect","NavItem","UpdateBook","props","data","setData","name","setName","description","setDescription","formData","FormData","console","warn","match","params","id","result","fetch","json","log","editBook","append","get","method","body","alert","e","target","value"],"mappings":"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","sourcesContent":["import home from \"../components/home\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport { NavItem } from \"react-bootstrap\";\r\n\r\nfunction UpdateBook(props) {\r\n    const [data, setData] = useState([])\r\n    const[name,setName]=useState(\"\")\r\n    const[description,setDescription]=useState(\"\")\r\n     const formData = new FormData();\r\n     console.warn(\"props\", props.match.params.id)\r\n\r\n    useEffect(async () => {\r\n        let result = await fetch(\"http://localhost:8080/books/\" + props.match.params.id);\r\n        result = await result.json();\r\n        console.log(name,description)\r\n        setData(result)\r\n        setName(result.name)\r\n        setDescription(result.description)\r\n    }\r\n    ,[])    \r\n    async function editBook(id){\r\n        formData.append('name',name);\r\n        formData.append('description',description);\r\n        console.log(formData.get('name')) \r\n        console.log(formData.get('description')) \r\n        let result = await fetch(\"http://localhost:8080/books/\" + props.match.params.id, {\r\n            method: \"PATCH\",\r\n            body: formData\r\n        })\r\n         result = await result.json();\r\n        \r\n        alert(id)\r\n    }\r\n    return (\r\n        <div>\r\n            <home />\r\n            <div className=\"col-sm-6 offset-sm-3\">\r\n                <h1>Update Book</h1>\r\n                <input type=\"text\" onChange={(e) => setName(e.target.value)} className=\"form-control\" defaultValue={data.name} /><br />\r\n                <input type=\"text\" onChange={(e) => setDescription(e.target.value)} className=\"form-control\" defaultValue={data.description} /><br />\r\n                <button onClick={() => editBook(data.id)} className=\"w-100 btn btn-lg btn-primary\">Update Book</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(UpdateBook);"]},"metadata":{},"sourceType":"module"}